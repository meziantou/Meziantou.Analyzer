# MA0050 - Validate arguments correctly in iterator methods
<!-- sources -->
Sources: [ValidateArgumentsCorrectlyAnalyzer.cs](https://github.com/meziantou/Meziantou.Analyzer/blob/main/src/Meziantou.Analyzer/Rules/ValidateArgumentsCorrectlyAnalyzer.cs), [ValidateArgumentsCorrectlyFixer.cs](https://github.com/meziantou/Meziantou.Analyzer/blob/main/src/Meziantou.Analyzer.CodeFixers/Rules/ValidateArgumentsCorrectlyFixer.cs)
<!-- sources -->

When a method contains a `yield` statement, the evaluation of the method is deferred until the first enumeration. This rule ensures that arguments are validated immediately, while execution of the rest of the method is still deferred.

````csharp
IEnumerable<int> Sample(string a)
{
    if (a == null)
        throw new System.ArgumentNullException(nameof(a));

    yield return 0;
}
````

Should be

````csharp
IEnumerable<int> Sample(string a)
{
    if (a == null)
        throw new System.ArgumentNullException(nameof(a));

    return Sample();

    IEnumerable<int> Sample()
    {
        yield return 0;
    }
}
````
