# MA0153 - Do not log symbols decorated with DataClassificationAttribute directly
<!-- sources -->
Source: [DoNotLogClassifiedDataAnalyzer.cs](https://github.com/meziantou/Meziantou.Analyzer/blob/main/src/Meziantou.Analyzer/Rules/DoNotLogClassifiedDataAnalyzer.cs)
<!-- sources -->

Detects when a log parameter is decorated with an attribute that inherits from `Microsoft.Extensions.Compliance.Classification.DataClassificationAttribute`, or when logging an object whose type contains members (properties or fields) decorated with such attributes.

Since there could be multiple log providers, any type that has sensitive attributes should not be logged directly, as some providers could log inner fields/properties and ignore the attributes.

````c#
using Microsoft.Extensions.Logging;

ILogger logger;

// non-compliant as Prop is decorated with an attribute that inherits from DataClassificationAttribute
logger.LogInformation("{Prop}", new Dummy().Prop);

// non-compliant as PatientInfo contains properties decorated with DataClassificationAttribute
PatientInfo patient = new();
logger.LogInformation("{Patient}", patient);

class Dummy
{
    [PiiAttribute]
    public string Prop { get; set; }
}

class PatientInfo
{
    [PiiAttribute]
    public string PatientId { get; set; }
    
    public ulong RecordId { get; set; }
    
    [PiiAttribute]
    public string FirstName { get; set; }
}

class PiiAttribute : Microsoft.Extensions.Compliance.Classification.DataClassificationAttribute
{
    public PiiAttribute() : base(default)
    {
    }
}
````
